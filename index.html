<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>qnhi's</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.2/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1"></script>
    <link rel="icon" href="img/tim.png" type="image/png">

	</head>
	<body>
  <div id="banner">
    <h1 id="from">From: nhetminh ︵⭑</h1>
    <h1 id="to">To: qnhi ︵⭑</h1>
  </div>

  <div id="container">
<div id="polaroid1">
  <img id="img1" class="img-hover draggable" src="img/Comp 1.gif" >
  <img id="img2" class="img-hover draggable" src="img/Comp 2.gif" >
  <img id="img6" class="img-hover draggable" src="img/Comp 6.gif" >
</div>

<div id="polaroid2">
  <img id="img3" class="img-hover draggable" src="img/Comp 3.gif">
  <img id="img5" class="img-hover draggable" src="img/Comp 5.gif">
  <img id="img4" class="img-hover draggable" src="img/Comp 4.gif">
</div>
</div>


<div id="biggroup">
  
  <div id="title">
    <h2 id="animateText">✧˖Will you be my˖✧ <span id="vlt">Valentine?♡</span></h2>
  
    <h3>/ᐠ˵- ⩊ -˵マ</h3>

    <!--script>
        const h2 = document.querySelector("#animateText");
        let scaleUp = true;

        function animateText() {
            h2.style.transform = scaleUp ? "scale(1)" : "scale(0.9)";
            scaleUp = !scaleUp; // Đảo ngược trạng thái
            requestAnimationFrame(() => setTimeout(animateText, 300)); // Cập nhật mỗi 0.3s
        }

        animateText(); // Bắt đầu animation
    </script-->
   
    <!--div id="chu">
      <img src="img/w.png">
      <img src="img/i.png">
      <img src="img/l copy.png">
      <img src="img/l.png">

      <img id="y" src="img/y.png">
      <img src="img/o.png">
      <img src="img/u.png"> 
      <img id="y" src="img/minh.png">

    </div>

    <div id="chu">
      <img id="timdo" src="img/tim.png"> 
      <img  id="y" src="img/b.png">
      <img src="img/e.png"> 
      <img id="y" src="img/m.png">
      <img src="img/y.png"> 

    </div>

    <div id="chu">

      <img src="img/V.png">
      <img src="img/a.png">
      <img src="img/l.png">
      <img src="img/e.png">
      <img src="img/n.png">
      <img src="img/t.png">
      <img src="img/i.png">
      <img src="img/n.png">
      <img src="img/e.png"> 
      <img src="img/_.png">
    
    </div>
    

    </div-->
    
  </div> 

</div> 

<div class="fruit">
    <img id="apple" src="img/apple.gif">
    <img id="elipse" src="img/Ellipse 1.png">
</div>

<div class="comau">
    <img id="kiss" src="img/kiss.gif">
    <img id="kiss1" src="img/kiss.gif">

</div>

<canvas id="confettiCanvas2"></canvas>


 
    <audio id="myAudio" src="audio/glue song - beabadoobee (sped up).mp3"></audio>
  <div class="buttons">
    <button id="playBtn">🔊</button>
  </div>
   
    <script>
        const audio = document.getElementById("myAudio");
        const playBtn = document.getElementById("playBtn");
        
        playBtn.addEventListener("click", () => {
        if (audio.paused) {
            audio.play();
            playBtn.textContent = "🔇";
        } else {
            audio.pause();
            audio.currentTime = 0; // Reset nhạc về đầu
            playBtn.textContent = "🔊";
        }
    });
    </script>


    <div class="button_yesno">
      <button id="yes_button">✅ </button>
      <button id="no_button">❌</button>
    </div>
 <script>
        const noButton = document.getElementById("no_button");

const texts = ["pls...🥺", "think again:(", "don't leave mi", "r u sure?", "ˊᴖˋ", "KHÓC ĐÂYY"];
let textIndex = 0;
let isFirstClick = true; // Cờ để xác định lần nhấn đầu tiên

function moveNoButton() {
    if (isFirstClick) {
        isFirstClick = false; // Sau lần nhấn đầu tiên thì cho phép di chuyển
    }

    const screenWidth = window.innerWidth;
    const screenHeight = window.innerHeight;
    const btnWidth = noButton.offsetWidth;
    const btnHeight = noButton.offsetHeight;

    let offsetX = 1000;
    let offsetY = 850;

    if (screenWidth >= 3000) {
        offsetX = Math.min(screenWidth * 0.9, 2700);
        offsetY = Math.min(screenHeight * 0.9, 2550);
    } else if (screenWidth >= 2500) {
        offsetX = Math.min(screenWidth * 0.9, 2700);
        offsetY = Math.min(screenHeight * 0.9, 2550);

    } else if (screenWidth >= 1900) {
        offsetX = Math.min(screenWidth * 0.9, 2700);
        offsetY = Math.min(screenHeight * 0.9, 2550);
    }

    const maxX = Math.max(0, screenWidth - btnWidth - offsetX);
    const maxY = Math.max(0, screenHeight - btnHeight - offsetY);

    const randomX = Math.random() * maxX;
    const randomY = Math.random() * maxY;

    // Chỉ di chuyển nếu nút đã được click ít nhất 1 lần
    if (!isFirstClick) {
        noButton.style.left = `${randomX}px`;
        noButton.style.top = `${randomY}px`;
    }

    // Đổi nội dung mà không mất icon ❌
    noButton.innerHTML = `❌ ${texts[textIndex]}`;
    textIndex = (textIndex + 1) % texts.length;

    console.log("Nút đã di chuyển tới:", randomX, randomY);
}

// Gắn sự kiện click nhưng không gọi `moveNoButton()` ngay từ đầu
noButton.addEventListener("click", moveNoButton);





document.getElementById("yes_button").addEventListener("click", function() {
    // Tạo popup
    const popup = document.createElement("div");
    popup.id = "popup";

    // Tạo popupContent
    const popupContent = document.createElement("div");
    popupContent.id = "popupContent";

    // Tạo phần tiêu đề cố định
    const highlightText = document.createElement("div");
    highlightText.classList.add("highlight");
    highlightText.innerHTML = "˖ ࣪‧₊˚⋆✩ You officially are˚⋆✩˖ ࣪‧₊<br>💐 my Valentine ٩(ˊᗜˋ)و*";


    // Tạo phần nội dung có thể scroll
    const scrollableContent = document.createElement("div");
    scrollableContent.classList.add("scrollable-content");

    const messages = [
        "Here's our plan:",
        "              <br>",
        "🎉<br>",
        "              <br>",


        "✦💋 Kiss ( ˶˘ ³˘(ˊᗜˋ*)!♡",
        { type: "img", src: "img/love them GIF.gif", alt: "Heart 1" },
        "✦🫂 Hug (っᵔ◡ᵔ)っ(˶ᵔ ᵕ ᵔ˶)",
        { type: "img", src: "img/Cat Cuddling GIF.gif", alt: "Heart 1" },

        "✦🍽️ Go to this restaurant? 🍗",
        "Option 1: 🏡Chick and Cheese - Gà phô mai Hàn Quốc - Âu Cơ, Tân Bình",
        "📍78 Đ. Âu Cơ, Phường 9, Tân Bình, Hồ Chí Minh",
        "📝<a href='https://maps.app.goo.gl/4scteFFARbimpjte6' target='_blank'>Google review</a>",
        { type: "img", src: "img/chicken.jpg", alt: "Heart 1" },
        "Option 2: 🏡Nhà hàng Yoshinoya - Cách Mạng Tháng Tám",
        "📍285A - 285B Đ. Cách Mạng Tháng 8, Phường 12, Quận 10, Hồ Chí Minh",
        "📝<a href='https://maps.app.goo.gl/RgRnZuvYf7qvK9X98' target='_blank'>Google review</a>",
        { type: "img", src: "img/cơm.jpg", alt: "Heart 1" },
        "Option 3: 🏡ME-TETSU IZAKAYA II",
        "📍145/3 Đ. Nguyễn Công Hoan, Phường 7, Phú Nhuận, Hồ Chí Minh",
        "📝<a href='https://maps.app.goo.gl/WFPNbw2yTYC1avau6' target='_blank'>Google review</a>",
        { type: "img", src: "img/japan.jpg", alt: "Heart 1" },
        "Option 4: 🏡The Ox Shack",
        "📍10i (i ngắn, Trần Hữu Trang, Phường 11, Phú Nhuận, Hồ Chí Minh",
        "📝<a href='https://maps.app.goo.gl/mUAKYh1ZoVSFrvYJ9' target='_blank'>Google review</a>",
        { type: "img", src: "img/burger.jpg", alt: "Heart 1" },

        "✦🧸 Send gifttttts!!! (づ ᴗ _ᴗ)づ",
        { type: "img", src: "img/Vibing White Cat GIF.gif", alt: "Heart 1" },
        { type: "img", src: "img/minkhung.png", alt: "Heart 1" },


        "✦😋 Eat (each other)ദ്ദി ˉ͈̀꒳ˉ͈́ )✧",
        { type: "img", src: "img/Cats Hug GIF.gif", alt: "Heart 1" },
        { type: "img", src: "img/Cat Licking GIF.gif", alt: "Heart 1" },

        "✦😴 Cuddle & Sleep ᶻ 𝗓 𐰁 .ᐟ",
        { type: "img", src: "img/Sleepy Cat GIF.gif", alt: "Heart 1" },

        "Happy valentine my baby i love u the most hihihi ♡⸜(˶˃ ᵕ ˂˶)⸝♡",
    ];

    // Duyệt qua danh sách để tạo nội dung
    messages.forEach(item => {
        if (typeof item === "string") {
            // Nếu là text, tạo thẻ <p>
            const message = document.createElement("p");
            message.innerHTML = item;
            scrollableContent.appendChild(message);
        } else if (item.type === "img") {
            // Nếu là hình ảnh, tạo thẻ <img>
            const img = document.createElement("img");
            img.src = item.src;
            img.alt = item.alt;
            img.classList.add("message-image");
            scrollableContent.appendChild(img);
        }
    });

  

    // Tạo nút đóng popup
const closeButton = document.createElement("button");
closeButton.id = "closeButton";
closeButton.textContent = "🥳";

closeButton.addEventListener("click", function() {
    popup.remove(); // Xóa popup khi nhấn nút OK
});



    // Thêm nút đóng vào popupContent
popupContent.appendChild(closeButton);

// Thêm phần cố định và phần scroll vào popupContent
popupContent.appendChild(highlightText);
popupContent.appendChild(scrollableContent);

// Thêm popupContent vào popup
popup.appendChild(popupContent);
document.body.appendChild(popup);


const confetti1 = confetti.create(document.getElementById("confettiCanvas1"), { resize: true });

// 🎆 Pháo hoa 🎆
console.log("Confetti 1 đang chạy...");

confetti1({
    particleCount: 150,
    spread: 90,
    origin: { y: 0.6 }
});

// Tạo hiệu ứng pháo hoa liên tục trong 1 giây
let duration = 1000;
let end = Date.now() + duration;
let interval = setInterval(function() {
    if (Date.now() > end) return clearInterval(interval);
    
    confetti1({
        particleCount: 100,
        spread: 100,
        origin: { y: 0.6 },
        scalar:2,

    });

}, 200);

        });

    </script>

<script>
  function createStar() {
      const star = document.createElement("span");
      star.innerHTML = "*";
      star.classList.add("star");

      // Vị trí ngẫu nhiên
      // Tránh bị chồng lên nhau bằng cách sử dụng vị trí ngẫu nhiên có kiểm soát
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * -100; // Xuất hiện từ trên cao
    
      star.style.left = `${x}px`;
      star.style.top = `${y}px`; // Giúp sao xuất hiện ngẫu nhiên từ phía trên màn hình


       // Kích thước ngẫu nhiên
    const size = Math.random() * 2 + 0.5; // Giữ nhỏ hơn để trông tự nhiên
    star.style.fontSize = `${size}vw`;

    // Tốc độ rơi ngẫu nhiên
    const duration = Math.random() * 3 + 2; // Tăng thời gian để rơi chậm hơn
    star.style.animationDuration = `${duration}s`;

      document.body.appendChild(star);

      // Xóa dấu * sau khi nó rơi xong
      setTimeout(() => {
          star.remove();
      }, duration * 1000);
  }
// Tạo nhiều sao cùng lúc thay vì chỉ 1 cái
function createMultipleStars() {
    for (let i = 0; i < 7; i++) { // Tăng số lượng sao xuất hiện cùng lúc
        createStar();
    }
}
  // Tạo hiệu ứng rơi liên tục
  setInterval(createStar, 200);



 
 
  console.log("Confetti 2 đang chạy...");

// Hàm tạo confetti rơi liên tục

    console.log("Trang đã tải...");
    const confetti2 = confetti.create(document.getElementById("confettiCanvas2"), { resize: true });
    console.log("Confetti2 đã tạo:", confetti2);

    function createFallingConfetti() {
        const rainbowColors = ["#ff009d", "#ffff69", "#82ffd5", "#dd33ff"];

        rainbowColors.forEach(color => {
            confetti2({
                particleCount: 1,
                startVelocity: 1,
                spread: 150,
                scalar:2,
                origin: { x: Math.random(), y: 0.01 },
                gravity: 1,
                colors: [color],
            });
        });

        setTimeout(createFallingConfetti, 100);
    }

    // Bắt đầu hiệu ứng
    createFallingConfetti();




/*window.onload = function() {
    console.log("Trang đã tải, bắt đầu confetti...");
    
    const confetti2 = confetti.create(document.getElementById("confettiCanvas2"), { resize: false });

    function createFallingConfetti() {
        const rainbowColors = ["#ff009d", "#ffff69", "#82ffd5", "#dd33ff"];

        rainbowColors.forEach(color => {
            confetti2({
                particleCount: 1,
                startVelocity: 10,
                spread: 150,
                origin: { x: Math.random(), y: 0 },
                gravity: 0.8,
                colors: [color],
            });
        });

        setTimeout(createFallingConfetti, 200);
    }

    // Bắt đầu hiệu ứng
    createFallingConfetti();
};*/







  document.querySelectorAll('.img-hover').forEach(img => {
    img.addEventListener('mousedown', startDrag);

    function startDrag(event) {
        event.preventDefault();

        // Lấy kích thước của ảnh
        let rect = img.getBoundingClientRect();
        let shiftX = rect.width / 2.2;
        let shiftY = rect.height / 2.2;

        img.classList.add('dragging');

     

        function moveAt(pageX, pageY) {
            img.style.left = (pageX - shiftX) + 'px';
            img.style.top = (pageY - shiftY) + 'px';
        }

        function onMove(event) {
            moveAt(event.pageX, event.pageY);
        }

        function stopDrag() {
            document.removeEventListener('mousemove', onMove);
            document.removeEventListener('mouseup', stopDrag);
        }

        document.addEventListener('mousemove', onMove);
        document.addEventListener('mouseup', stopDrag);
    }
});

document.addEventListener("DOMContentLoaded", () => {
    function makeDraggable(element) {
        let offsetX = 0, offsetY = 0, isDragging = false;
        let startX = 0, startY = 0; // Lưu vị trí ban đầu

        element.addEventListener("mousedown", (e) => {
            isDragging = true;
            element.classList.add("dragging");

            startX = element.getBoundingClientRect().left;
            startY = element.getBoundingClientRect().top;

            offsetX = e.clientX - startX;
            offsetY = e.clientY - startY;
        });

        document.addEventListener("mousemove", (e) => {
            if (!isDragging) return;

            let moveX = e.clientX - offsetX - startX;
            let moveY = e.clientY - offsetY - startY;
            
            element.style.transform = `translate(${moveX}px, ${moveY}px)`;
        });

        document.addEventListener("mouseup", () => {
            if (isDragging) {
                element.classList.remove("dragging");
                isDragging = false;
            }
        });
    }

    makeDraggable(document.getElementById("kiss"));
    makeDraggable(document.getElementById("kiss1"));
});



</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    gsap.utils.toArray("#chu img, #chu2 img").forEach((img, i) => {
        // Tạo hiệu ứng bounce lên xuống
        gsap.to(img, {
            y: -20,
           // skewX: 30, // Nghiêng 45 độ
            duration: 1 + Math.random(),
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
            delay: i * 0.2
        });

    });
});

document.addEventListener("DOMContentLoaded", () => {
    gsap.registerPlugin(Draggable);

    Draggable.create("#kiss, #kiss1", {
        type: "x,y",
        inertia: true
    });
});

</script>
	</body>
</html>